<div class='container'>
  <div class='headerButtons' *ngIf='edit'>
    <app-add-ingredient (addProduct)='addProduct($event)'></app-add-ingredient>
  </div>
  <div>
    <span *ngIf='edit' [formGroup]='model' class='table'>
      <div>
        <ng-container class='mat-typography' [formGroup]='model'>
          <mat-form-field appearance='outline' class='listedOptions'>
            <mat-label>Nazwa produktu</mat-label>
            <input matInput type='text' [matAutocomplete]='autoProduct' [matAutocompleteDisabled]='false'
                   formConspanolName='product' />
          </mat-form-field>
        </ng-container>
        <!--        <mat-form-field appearance='outline'>-->
        <!--          <mat-label>Nazwa produktu</mat-label>-->
        <!--          <mat-select>-->
        <!--            &lt;!&ndash;            <mat-option *ngFor='let product of products$ | async' [value]='product.productId' formConspanolName='product'>&ndash;&gt;-->
        <!--            &lt;!&ndash;              {{product.name}}&ndash;&gt;-->
        <!--            &lt;!&ndash;            </mat-option>&ndash;&gt;-->
        <!--          </mat-select>-->
        <!--        </mat-form-field>-->
      </div>
      <div>
        <mat-form-field appearance='outline' class='listedOptions'>
          <mat-label>Ilość</mat-label>
          <input type='number' matInput formConspanolName='amount'>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance='outline' class='listedOptions'>
          <mat-label>Miara produktu</mat-label>
          <mat-select>
            <!--              <mat-option *ngFor='let measure of (selectedProduct | productConnect | async).measures'-->
            <!--                          [value]='measure.measureId' formConspanolName='measure'>-->
            <!--                {{measure.measureId | measuresspananslator | async}}-->
            <!--              </mat-option>-->
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <button (click)='newUsedProduct()' mat-button>Dodaj</button>
      </div>
    </span>
    <div class='table'>
      <div class='grid-item'><h4>Produkt</h4></div>
      <div class='grid-item'><h4>ilość</h4></div>
      <div class='grid-item'><h4>Miara</h4></div>
      <div class='grid-item'><h4>kcal</h4></div>
    </div>
    <div class='colorizer'>
    <div class='table' *ngFor='let product of products'>
      <div class='grid-item'>
        {{(((product.usedProductId | usedProductConnector) | async).productId | productConnect | async).name}}
      </div>
      <div class='grid-item'>
        {{((product.usedProductId | usedProductConnector) | async).amount}}
      </div>
      <div class='grid-item'>
        {{((((product.usedProductId | usedProductConnector) | async).measuresId) | measuresTranslator) | async}}
      </div>
      <div class='grid-item'>
        {{(((((product.usedProductId | usedProductConnector) | async).measuresId) | productMeasureConnector: ((product.usedProductId | usedProductConnector) | async).productId) | async) |multiplication: (((product.usedProductId | usedProductConnector) | async).amount)}}
      </div>
    </div>
    </div>
  </div>

  <!--    </table>-->
</div>
<!--</div>-->
<!--<datalist id='products'>-->
<!--  <option *ngFor='let product of (products$ | async)' (select)='optionSelected("product", selectedProduct)'>-->
<!--    {{product.name}}-->
<!--</datalist>-->


<mat-autocomplete #autoProduct='matAutocomplete' (optionSelected)='optionSelected("product", $event.option.value)'>
  <mat-option *ngFor='let product of autoProducts$ | async' [value]='product.productId'>
    {{product.name}}
  </mat-option>
</mat-autocomplete>
