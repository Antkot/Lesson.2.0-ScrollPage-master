<h2 mat-dialog-title>Dodawanie Sk≈Çadnika</h2>
<mat-dialog-content class="mat-typography" [formGroup]="model">
  Nazwa: <mat-form-field appearance="outline">
    <mat-label>Szukaj</mat-label>
    <input matInput type="text" [matAutocomplete]="auto" [matAutocompleteDisabled]="false" formControlName="product"  />
  </mat-form-field>
  Miara: <input list="measures" name="measure" id="measure"   [(ngModel)]="selectedMeasureId">
  Kcal: <input type='number'  [(ngModel)]="selectedMeasureKcal">
  Alergen: <input [(ngModel)]="selectedAllergen">

</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button mat-dialog-close>Anuluj</button>
  <button mat-button [mat-dialog-close]="true" (click)='newProduct()'>Dodaj</button>
</mat-dialog-actions>
<br/>
<mat-dialog-content class="mat-typography">
  <div *ngFor='let product of products$ | async'>
    {{product.name}} (
<a *ngFor='let measure of product.measures'>
  {{ measure.measureId | measuresTranslator | async}}
</a>)
    <br/>
  </div>
</mat-dialog-content>

<!--<mat-autocomplete #auto="matAutocomplete" (optionSelected)="optionSelected($event.option.value)">-->
<!--  <mat-option *ngFor="let measure of autoMeasures$ | async" [value]="product.productId">{{product.name}}</mat-option>-->
<!--</mat-autocomplete>-->

<mat-autocomplete #auto="matAutocomplete" (optionSelected)="optionSelected($event.option.value)">
  <mat-option *ngFor="let product of autoProducts$ | async" [value]="product.productId">{{product.name}}</mat-option>
</mat-autocomplete>
